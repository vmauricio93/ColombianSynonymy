{"version":3,"sources":["webpack://NeoVis/webpack/universalModuleDefinition","webpack://NeoVis/webpack/bootstrap","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.symbol\",\"commonjs2\":\"core-js/modules/es.symbol\",\"amd\":\"core-js/modules/es.symbol\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.symbol.description\",\"commonjs2\":\"core-js/modules/es.symbol.description\",\"amd\":\"core-js/modules/es.symbol.description\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.symbol.iterator\",\"commonjs2\":\"core-js/modules/es.symbol.iterator\",\"amd\":\"core-js/modules/es.symbol.iterator\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.array.for-each\",\"commonjs2\":\"core-js/modules/es.array.for-each\",\"amd\":\"core-js/modules/es.array.for-each\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.array.iterator\",\"commonjs2\":\"core-js/modules/es.array.iterator\",\"amd\":\"core-js/modules/es.array.iterator\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.array.map\",\"commonjs2\":\"core-js/modules/es.array.map\",\"amd\":\"core-js/modules/es.array.map\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.function.name\",\"commonjs2\":\"core-js/modules/es.function.name\",\"amd\":\"core-js/modules/es.function.name\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.object.define-property\",\"commonjs2\":\"core-js/modules/es.object.define-property\",\"amd\":\"core-js/modules/es.object.define-property\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.object.to-string\",\"commonjs2\":\"core-js/modules/es.object.to-string\",\"amd\":\"core-js/modules/es.object.to-string\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.object.values\",\"commonjs2\":\"core-js/modules/es.object.values\",\"amd\":\"core-js/modules/es.object.values\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.promise\",\"commonjs2\":\"core-js/modules/es.promise\",\"amd\":\"core-js/modules/es.promise\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/es.string.iterator\",\"commonjs2\":\"core-js/modules/es.string.iterator\",\"amd\":\"core-js/modules/es.string.iterator\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/web.dom-collections.for-each\",\"commonjs2\":\"core-js/modules/web.dom-collections.for-each\",\"amd\":\"core-js/modules/web.dom-collections.for-each\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/web.dom-collections.iterator\",\"commonjs2\":\"core-js/modules/web.dom-collections.iterator\",\"amd\":\"core-js/modules/web.dom-collections.iterator\"}","webpack://NeoVis/external {\"commonjs\":\"core-js/modules/web.timers\",\"commonjs2\":\"core-js/modules/web.timers\",\"amd\":\"core-js/modules/web.timers\"}","webpack://NeoVis/external {\"commonjs\":\"regenerator-runtime/runtime\",\"commonjs2\":\"regenerator-runtime/runtime\",\"amd\":\"regenerator-runtime/runtime\"}","webpack://NeoVis/./src/defaults.js","webpack://NeoVis/./src/neovis.js"],"names":["root","factory","exports","module","require","define","amd","undefined","self","this","__WEBPACK_EXTERNAL_MODULE__0__","__WEBPACK_EXTERNAL_MODULE__1__","__WEBPACK_EXTERNAL_MODULE__2__","__WEBPACK_EXTERNAL_MODULE__3__","__WEBPACK_EXTERNAL_MODULE__4__","__WEBPACK_EXTERNAL_MODULE__5__","__WEBPACK_EXTERNAL_MODULE__6__","__WEBPACK_EXTERNAL_MODULE__7__","__WEBPACK_EXTERNAL_MODULE__8__","__WEBPACK_EXTERNAL_MODULE__9__","__WEBPACK_EXTERNAL_MODULE__10__","__WEBPACK_EXTERNAL_MODULE__11__","__WEBPACK_EXTERNAL_MODULE__12__","__WEBPACK_EXTERNAL_MODULE__13__","__WEBPACK_EXTERNAL_MODULE__14__","__WEBPACK_EXTERNAL_MODULE__15__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","defaults","neo4j","initialQuery","neo4jUri","neo4jUser","neo4jPassword","encrypted","trust","visjs","interaction","hover","hoverConnectedEdges","selectConnectedEdges","multiselect","zoomView","experimental","physics","barnesHut","damping","nodes","mass","shape","labelHighlightBold","widthConstraint","maximum","heightConstraint","edges","hoverWidth","selectionWidth","smooth","type","roundness","font","size","strokeWidth","align","color","inherit","arrows","to","enabled","scaleFactor","__webpack_exports__","neovis_NeoVis","NeoVis","config","Neo4j","url","user","password","_classCallCheck","_defineProperty","_init","_consoleLog","message","level","arguments","length","_config","console_debug","console","_encrypted","_trust","_driver","driver","auth","basic","_query","initial_cypher","node","_nodes","id","edge","_edges","neo4jNode","label","labels","labelConfig","captionKey","sizeKey","sizeCypher","communityKey","identity","toInt","session","run","result","_iterator","records","iterator","_iteratorNormalCompletion","_step","next","done","forEach","v","_this","isInt","toNumber","sizeProp","properties","_typeof","inSafeRange","group","e","title","nodeTypeConfig","relationships","weightKey","thickness","caption","from","start","end","res","_onCompleted","_this2","dataBuildPromises","limit","subscribe","onNext","record","recordCount","constructor","dataPromises","values","toObject","map","_ref","_asyncToGenerator","regeneratorRuntime","mark","_callee2","startNode","endNode","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_iterator2","_step2","obj","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_iterator3","_step3","_obj","_node","_edge","wrap","_context2","prev","types","Node","buildNodeVisObject","sent","_addNode","Relationship","buildEdgeVisObject","_addEdge","Path","segments","t0","t1","t2","t3","relationship","t4","finish","Array","t5","stop","_x2","apply","push","Promise","all","onCompleted","_callee3","_context3","close","scaling","layout","improvedLayout","hierarchical","sortMethod","hierarchical_sort_method","adaptiveTimestep","stabilization","iterations","fit","_data","send","setTimeout","onError","error","eventType","handler","render","clearNetwork","query"],"mappings":"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","file":"neovis-without-dependencies.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"core-js/modules/es.symbol\"), require(\"core-js/modules/es.symbol.description\"), require(\"core-js/modules/es.symbol.iterator\"), require(\"core-js/modules/es.array.for-each\"), require(\"core-js/modules/es.array.iterator\"), require(\"core-js/modules/es.array.map\"), require(\"core-js/modules/es.function.name\"), require(\"core-js/modules/es.object.define-property\"), require(\"core-js/modules/es.object.to-string\"), require(\"core-js/modules/es.object.values\"), require(\"core-js/modules/es.promise\"), require(\"core-js/modules/es.string.iterator\"), require(\"core-js/modules/web.dom-collections.for-each\"), require(\"core-js/modules/web.dom-collections.iterator\"), require(\"core-js/modules/web.timers\"), require(\"regenerator-runtime/runtime\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"core-js/modules/es.symbol\", \"core-js/modules/es.symbol.description\", \"core-js/modules/es.symbol.iterator\", \"core-js/modules/es.array.for-each\", \"core-js/modules/es.array.iterator\", \"core-js/modules/es.array.map\", \"core-js/modules/es.function.name\", \"core-js/modules/es.object.define-property\", \"core-js/modules/es.object.to-string\", \"core-js/modules/es.object.values\", \"core-js/modules/es.promise\", \"core-js/modules/es.string.iterator\", \"core-js/modules/web.dom-collections.for-each\", \"core-js/modules/web.dom-collections.iterator\", \"core-js/modules/web.timers\", \"regenerator-runtime/runtime\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"NeoVis\"] = factory(require(\"core-js/modules/es.symbol\"), require(\"core-js/modules/es.symbol.description\"), require(\"core-js/modules/es.symbol.iterator\"), require(\"core-js/modules/es.array.for-each\"), require(\"core-js/modules/es.array.iterator\"), require(\"core-js/modules/es.array.map\"), require(\"core-js/modules/es.function.name\"), require(\"core-js/modules/es.object.define-property\"), require(\"core-js/modules/es.object.to-string\"), require(\"core-js/modules/es.object.values\"), require(\"core-js/modules/es.promise\"), require(\"core-js/modules/es.string.iterator\"), require(\"core-js/modules/web.dom-collections.for-each\"), require(\"core-js/modules/web.dom-collections.iterator\"), require(\"core-js/modules/web.timers\"), require(\"regenerator-runtime/runtime\"));\n\telse\n\t\troot[\"NeoVis\"] = factory(root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined], root[undefined]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE__0__, __WEBPACK_EXTERNAL_MODULE__1__, __WEBPACK_EXTERNAL_MODULE__2__, __WEBPACK_EXTERNAL_MODULE__3__, __WEBPACK_EXTERNAL_MODULE__4__, __WEBPACK_EXTERNAL_MODULE__5__, __WEBPACK_EXTERNAL_MODULE__6__, __WEBPACK_EXTERNAL_MODULE__7__, __WEBPACK_EXTERNAL_MODULE__8__, __WEBPACK_EXTERNAL_MODULE__9__, __WEBPACK_EXTERNAL_MODULE__10__, __WEBPACK_EXTERNAL_MODULE__11__, __WEBPACK_EXTERNAL_MODULE__12__, __WEBPACK_EXTERNAL_MODULE__13__, __WEBPACK_EXTERNAL_MODULE__14__, __WEBPACK_EXTERNAL_MODULE__15__) {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 16);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__0__;","module.exports = __WEBPACK_EXTERNAL_MODULE__1__;","module.exports = __WEBPACK_EXTERNAL_MODULE__2__;","module.exports = __WEBPACK_EXTERNAL_MODULE__3__;","module.exports = __WEBPACK_EXTERNAL_MODULE__4__;","module.exports = __WEBPACK_EXTERNAL_MODULE__5__;","module.exports = __WEBPACK_EXTERNAL_MODULE__6__;","module.exports = __WEBPACK_EXTERNAL_MODULE__7__;","module.exports = __WEBPACK_EXTERNAL_MODULE__8__;","module.exports = __WEBPACK_EXTERNAL_MODULE__9__;","module.exports = __WEBPACK_EXTERNAL_MODULE__10__;","module.exports = __WEBPACK_EXTERNAL_MODULE__11__;","module.exports = __WEBPACK_EXTERNAL_MODULE__12__;","module.exports = __WEBPACK_EXTERNAL_MODULE__13__;","module.exports = __WEBPACK_EXTERNAL_MODULE__14__;","module.exports = __WEBPACK_EXTERNAL_MODULE__15__;","const defaults = {\n\n\tneo4j: {\n\t\tinitialQuery: `MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;`,\n\t\tneo4jUri: 'bolt://localhost:7687',\n\t\tneo4jUser: 'neo4j',\n\t\tneo4jPassword: 'neo4j',\n\t\tencrypted: 'ENCRYPTION_OFF',\n\t\ttrust: 'TRUST_ALL_CERTIFICATES'\n\t},\n\n\tvisjs: {\n\t\tinteraction: {\n\t\t\thover: true,\n\t\t\thoverConnectedEdges: true,\n\t\t\tselectConnectedEdges: false,\n\t\t\t//        multiselect: true,\n\t\t\tmultiselect: 'alwaysOn',\n\t\t\tzoomView: false,\n\t\t\texperimental: {}\n\t\t},\n\t\tphysics: {\n\t\t\tbarnesHut: {\n\t\t\t\tdamping: 0.1\n\t\t\t}\n\t\t},\n\t\tnodes: {\n\t\t\tmass: 4,\n\t\t\tshape: 'neo',\n\t\t\tlabelHighlightBold: false,\n\t\t\twidthConstraint: {\n\t\t\t\tmaximum: 40\n\t\t\t},\n\t\t\theightConstraint: {\n\t\t\t\tmaximum: 40\n\t\t\t}\n\t\t},\n\t\tedges: {\n\t\t\thoverWidth: 0,\n\t\t\tselectionWidth: 0,\n\t\t\tsmooth: {\n\t\t\t\ttype: 'continuous',\n\t\t\t\troundness: 0.15\n\t\t\t},\n\t\t\tfont: {\n\t\t\t\tsize: 9,\n\t\t\t\tstrokeWidth: 0,\n\t\t\t\talign: 'top'\n\t\t\t},\n\t\t\tcolor: {\n\t\t\t\tinherit: false\n\t\t\t},\n\t\t\tarrows: {\n\t\t\t\tto: {\n\t\t\t\t\tenabled: true,\n\t\t\t\t\ttype: 'arrow',\n\t\t\t\t\tscaleFactor: 0.5\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t}\n};\n\nexport { defaults };","'use strict';\n\nimport { defaults } from './defaults';\n\nexport default class NeoVis {\n\t_nodes = {};\n\t_edges = {};\n\t_data = {};\n\t_network = null;\n\t//_events = new EventController();\n\n\t/**\n\t *\n\t * @constructor\n\t * @param {object} config - configures the visualization and Neo4j server connection\n\t *  {\n\t *    container:\n\t *    server_url:\n\t *    server_password?:\n\t *    server_username?:\n\t *    labels:\n\t *\n\t *  }\n\t *\n\t */\n\tconstructor(config, Neo4j, url, user, password) {\n\t\tthis.Neo4j = Neo4j;\n\t\tthis._init(config, Neo4j, url, user, password);\n\n\t\tthis._consoleLog(config);\n\t\tthis._consoleLog(defaults);\n\t}\n\n\t_consoleLog(message, level = 'log') {\n\t\t// eslint-disable-next-line no-console\n\t\tthis._config.console_debug && console[level](message);\n\t}\n\n\t_init(config, Neo4j, url, user, password) {\n\t\tthis.Neo4j = Neo4j;\n\t\tthis._config = config;\n\t\tthis._encrypted = config.encrypted || defaults.neo4j.encrypted;\n\t\tthis._trust = config.trust || defaults.neo4j.trust;\n\t\tthis._driver = Neo4j.driver(url,Neo4j.auth.basic(user,password),{\n\t\t\t\tencrypted: this._encrypted,\n\t\t\t\ttrust: this._trust\n\t\t\t});\n\t\tthis._query = config.initial_cypher || defaults.neo4j.initialQuery;\n\t\t//this._container = document.getElementById(config.container_id);//\n\t}\n\n\t_addNode(node) {\n\t\tthis._nodes[node.id] = node;\n\t}\n\n\t_addEdge(edge) {\n\t\tthis._edges[edge.id] = edge;\n\t}\n\n\t/**\n\t * Build node object for vis from a neo4j Node\n\t * FIXME: use config\n\t * FIXME: move to private api\n\t * @param neo4jNode\n\t * @returns {{}}\n\t */\n\tasync buildNodeVisObject(neo4jNode) {\n\t\tlet node = {};\n\t\tlet label = neo4jNode.labels[0];\n\n\t\tlet labelConfig = this._config && this._config.labels && this._config.labels[label];\n\n\t\tconst captionKey = labelConfig && labelConfig['caption'];\n\t\tconst sizeKey = labelConfig && labelConfig['size'];\n\t\tconst sizeCypher = labelConfig && labelConfig['sizeCypher'];\n\t\tconst communityKey = labelConfig && labelConfig['community'];\n\n\t\tnode.id = neo4jNode.identity.toInt();\n\n\t\t// node size\n\n\t\tif (sizeCypher) {\n\t\t\t// use a cypher statement to determine the size of the node\n\t\t\t// the cypher statement will be passed a parameter {id} with the value\n\t\t\t// of the internal node id\n\n\t\t\tlet session = this._driver.session();\n\t\t\tconst result = await session.run(sizeCypher, {id: this.Neo4j.int(node.id)}); ///////\n\t\t\tfor (let record of result.records) {\n\t\t\t\trecord.forEach((v) => {\n\t\t\t\t\tif (typeof v === 'number') {\n\t\t\t\t\t\tnode.value = v;\n\t\t\t\t\t} else if (this.Neo4j.isInt(v)) {\n\t\t\t\t\t\tnode.value = v.toNumber();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t} else if (typeof sizeKey === 'number') {\n\t\t\tnode.value = sizeKey;\n\t\t} else {\n\t\t\tlet sizeProp = neo4jNode.properties[sizeKey];\n\n\t\t\tif (sizeProp && typeof sizeProp === 'number') {\n\t\t\t\t// property value is a number, OK to use\n\t\t\t\tnode.value = sizeProp;\n\t\t\t} else if (sizeProp && typeof sizeProp === 'object' && this.Neo4j.isInt(sizeProp)) {\n\t\t\t\t// property value might be a Neo4j Integer, check if we can call toNumber on it:\n\t\t\t\tif (sizeProp.inSafeRange()) {\n\t\t\t\t\tnode.value = sizeProp.toNumber();\n\t\t\t\t} else {\n\t\t\t\t\t// couldn't convert to Number, use default\n\t\t\t\t\tnode.value = 1.0;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.value = 1.0;\n\t\t\t}\n\t\t}\n\n\t\t// node caption\n\t\tif (typeof captionKey === 'function') {\n\t\t\tnode.label = captionKey(neo4jNode);\n\t\t} else {\n\t\t\tnode.label = neo4jNode.properties[captionKey] || captionKey || label || '';\n\t\t}\n\n\t\t// community\n\t\t// behavior: color by value of community property (if set in config), then color by label\n\t\tif (!communityKey) {\n\t\t\tnode.group = label;\n\t\t} else {\n\t\t\ttry {\n\t\t\t\tif (typeof communityKey === 'function') {\n\t\t\t\t\tnode.group = communityKey(neo4jNode);\n\t\t\t\t}\n\t\t\t\telse if (neo4jNode.properties[communityKey]) {\n\t\t\t\t\tnode.group = neo4jNode.properties[communityKey].toNumber() || label || 0;  // FIXME: cast to Integer\n\n\t\t\t\t} else {\n\t\t\t\t\tnode.group = 0;\n\t\t\t\t}\n\n\t\t\t} catch (e) {\n\t\t\t\tnode.group = 0;\n\t\t\t}\n\t\t}\n\t\t// set all properties as tooltip\n\t\tnode.title = label;\n\t\t// for (let key in neo4jNode.properties) {\n\t\t// \tif (neo4jNode.properties.hasOwnProperty(key)) {\n\t\t// \t\tnode.title += `<strong>${key}:</strong> ${neo4jNode.properties[key]}<br>`;\n\t\t// \t}\n\t\t// }\n\t\treturn node;\n\t}\n\n\t/**\n\t * Build edge object for vis from a neo4j Relationship\n\t * @param r\n\t * @returns {{}}\n\t */\n\tbuildEdgeVisObject(r) {\n\t\tconst nodeTypeConfig = this._config && this._config.relationships && this._config.relationships[r.type];\n\t\tlet weightKey = nodeTypeConfig && nodeTypeConfig.thickness,\n\t\t\tcaptionKey = nodeTypeConfig && nodeTypeConfig.caption;\n\n\t\tlet edge = {};\n\t\tedge.id = r.identity.toInt();\n\t\tedge.from = r.start.toInt();\n\t\tedge.to = r.end.toInt();\n\n\t\t// hover tooltip. show all properties in the format <strong>key:</strong> value\n\t\t// edge.title = '';\n\t\t// for (let key in r.properties) {\n\t\t// \tif (r.properties.hasOwnProperty(key)) {\n\t\t// \t\tedge['title'] += `<strong>${key}:</strong> ${r.properties[key]}<br>`;\n\t\t// \t}\n\t\t// }\n\n\t\t// set relationship thickness\n\t\tif (weightKey && typeof weightKey === 'string') {\n\t\t\tedge.value = r.properties[weightKey];\n\t\t} else if (weightKey && typeof weightKey === 'number') {\n\t\t\tedge.value = weightKey;\n\t\t} else {\n\t\t\tedge.value = 1.0;\n\t\t}\n\n\t\t// set caption\n\n\n\t\tif (typeof captionKey === 'boolean') {\n\t\t\tif (!captionKey) {\n\t\t\t\tedge.label = '';\n\t\t\t} else {\n\t\t\t\tedge.label = r.type;\n\t\t\t}\n\t\t} else if (captionKey && typeof captionKey === 'string') {\n\t\t\tedge.label = r.properties[captionKey] || '';\n\t\t} else {\n\t\t\tedge.label = r.type;\n\t\t}\n\n\t\treturn edge;\n\t}\n\n\t// public API\n\n\trender(res) {\n\n\t\t// connect to Neo4j instance\n\t\t// run query\n\t\tlet recordCount = 0;\n\n\t\tlet session = this._driver.session();\n\t\tconst dataBuildPromises = [];\n\t\tsession\n\t\t\t.run(this._query, {limit: 30})\n\t\t\t.subscribe({\n\t\t\t\tonNext: (record) => {\n\t\t\t\t\trecordCount++;\n\n\t\t\t\t\tthis._consoleLog('CLASS NAME');\n\t\t\t\t\tthis._consoleLog(record.constructor.name);\n\t\t\t\t\tthis._consoleLog(record);\n\n\t\t\t\t\tconst dataPromises = Object.values(record.toObject()).map(async (v) => {\n\t\t\t\t\t\tthis._consoleLog('Constructor:');\n\t\t\t\t\t\tthis._consoleLog(v.constructor.name);\n\t\t\t\t\t\tif (v instanceof this.Neo4j.types.Node) {\n\t\t\t\t\t\t\tlet node = await this.buildNodeVisObject(v);\n\t\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\t\tthis._addNode(node);\n\t\t\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\t\t\tthis._consoleLog(e, 'error');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (v instanceof this.Neo4j.types.Relationship) {\n\t\t\t\t\t\t\tlet edge = this.buildEdgeVisObject(v);\n\t\t\t\t\t\t\tthis._addEdge(edge);\n\n\t\t\t\t\t\t} else if (v instanceof this.Neo4j.types.Path) {\n\t\t\t\t\t\t\tthis._consoleLog('PATH');\n\t\t\t\t\t\t\tthis._consoleLog(v);\n\t\t\t\t\t\t\tlet startNode = await this.buildNodeVisObject(v.start);\n\t\t\t\t\t\t\tlet endNode = await this.buildNodeVisObject(v.end);\n\n\t\t\t\t\t\t\tthis._addNode(startNode);\n\t\t\t\t\t\t\tthis._addNode(endNode);\n\n\t\t\t\t\t\t\tfor (let obj of v.segments) {\n\t\t\t\t\t\t\t\tthis._addNode(await this.buildNodeVisObject(obj.start));\n\t\t\t\t\t\t\t\tthis._addNode(await this.buildNodeVisObject(obj.end));\n\t\t\t\t\t\t\t\tthis._addEdge(this.buildEdgeVisObject(obj.relationship));\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else if (v instanceof Array) {\n\t\t\t\t\t\t\tfor (let obj of v) {\n\t\t\t\t\t\t\t\tthis._consoleLog('Array element constructor:');\n\t\t\t\t\t\t\t\tthis._consoleLog(obj.constructor.name);\n\t\t\t\t\t\t\t\tif (obj instanceof this.Neo4j.types.Node) {\n\t\t\t\t\t\t\t\t\tlet node = await this.buildNodeVisObject(obj);\n\t\t\t\t\t\t\t\t\tthis._addNode(node);\n\n\t\t\t\t\t\t\t\t} else if (obj instanceof this.Neo4j.types.Relationship) {\n\t\t\t\t\t\t\t\t\tlet edge = this.buildEdgeVisObject(obj);\n\n\t\t\t\t\t\t\t\t\tthis._addEdge(edge);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdataBuildPromises.push(Promise.all(dataPromises));\n\t\t\t\t},\n\t\t\t\tonCompleted: async () => {\n\t\t\t\t\tawait Promise.all(dataBuildPromises);\n\t\t\t\t\tsession.close();\n\t\t\t\t\tlet options = {\n\t\t\t\t\t\tnodes: {\n\t\t\t\t\t\t\tshape: 'text',\n\t\t\t\t\t\t\tfont: {\n\t\t\t\t\t\t\t\tsize: 26,\n\t\t\t\t\t\t\t\tstrokeWidth: 7\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tscaling: {\n\t\t\t\t\t\t\t\tlabel: {\n\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tedges: {\n\t\t\t\t\t\t\tarrows: {\n\t\t\t\t\t\t\t\tto: {enabled: this._config.arrows || false} // FIXME: handle default value\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tlength: 200\n\t\t\t\t\t\t},\n\t\t\t\t\t\tlayout: {\n\t\t\t\t\t\t\timprovedLayout: false,\n\t\t\t\t\t\t\thierarchical: {\n\t\t\t\t\t\t\t\tenabled: this._config.hierarchical || false,\n\t\t\t\t\t\t\t\tsortMethod: this._config.hierarchical_sort_method || 'hubsize'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t\tphysics: { // TODO: adaptive physics settings based on size of graph rendered\n\t\t\t\t\t\t\t// enabled: true,\n\t\t\t\t\t\t\t// timestep: 0.5,\n\t\t\t\t\t\t\t// stabilization: {\n\t\t\t\t\t\t\t//     iterations: 10\n\t\t\t\t\t\t\t// }\n\n\t\t\t\t\t\t\tadaptiveTimestep: true,\n\t\t\t\t\t\t\t// barnesHut: {\n\t\t\t\t\t\t\t//     gravitationalConstant: -8000,\n\t\t\t\t\t\t\t//     springConstant: 0.04,\n\t\t\t\t\t\t\t//     springLength: 95\n\t\t\t\t\t\t\t// },\n\t\t\t\t\t\t\tstabilization: {\n\t\t\t\t\t\t\t\titerations: 200,\n\t\t\t\t\t\t\t\tfit: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\n\t\t\t\t\t//const container = this._container;\n\t\t\t\t\tthis._data = {\n\t\t\t\t\t\tnodes: this._nodes, // new vis.DataSet(Object.values(this._nodes)),\n\t\t\t\t\t\tedges: this._edges  // new vis.DataSet(Object.values(this._edges))\n\t\t\t\t\t};\n\n\n\t\t\t\t\tthis._consoleLog(this._data.nodes);\n\t\t\t\t\tthis._consoleLog(this._data.edges);\n\n\t\t\t\t\t// Create duplicate node for any this reference relationships\n\t\t\t\t\t// NOTE: Is this only useful for data model type data\n\t\t\t\t\t// this._data.edges = this._data.edges.map(\n\t\t\t\t\t//     function (item) {\n\t\t\t\t\t//          if (item.from == item.to) {\n\t\t\t\t\t//             const newNode = this._data.nodes.get(item.from)\n\t\t\t\t\t//             delete newNode.id;\n\t\t\t\t\t//             const newNodeIds = this._data.nodes.add(newNode);\n\t\t\t\t\t//             this._consoleLog(\"Adding new node and changing this-ref to node: \" + item.to);\n\t\t\t\t\t//             item.to = newNodeIds[0];\n\t\t\t\t\t//          }\n\t\t\t\t\t//          return item;\n\t\t\t\t\t//     }\n\t\t\t\t\t// );\n\t\t\t\t\t//this._network = new vis.Network(container, this._data, options);//\n\t\t\t\t\tthis._consoleLog('completed');\n\t\t\t\t\t//console.log(this._data);\n\t\t\t\t\tres.send(this._data);\n\t\n\t\t\t\t\tsetTimeout(\n\t\t\t\t\t\t() => {\n\t\t\t\t\t\t\t//this._network.stopSimulation();//\n\t\t\t\t\t\t},\n\t\t\t\t\t\t10000\n\t\t\t\t\t);\n\t\t\t\t\t//this._events.generateEvent(CompletionEvent, {record_count: recordCount});\n\t\t\t\t},\n\t\t\t\tonError: (error) => {\n\t\t\t\t\tthis._consoleLog(error);\n\t\t\t\t}\n\t\t\t});\t\n\t}\n\n\t/**\n\t * Clear the data for the visualization\n\t */\n\tclearNetwork() {\n\t\tthis._nodes = {};\n\t\tthis._edges = {};\n\t\t//this._network.setData([]);\n\t}\n\n\n\t/**\n\t *\n\t * @param {string} eventType Event type to be handled\n\t * @param {callback} handler Handler to manage the event\n\t */\n\tregisterOnEvent(eventType, handler) {\n\t\t//this._events.register(eventType, handler);\n\t}\n\n\n\t/**\n\t * Reset the config object and reload data\n\t * @param config\n\t */\n\treinit(config) {\n\t\tthis._init(config);\n\t\tthis.render();\n\t}\n\n\t/**\n\t * Fetch live data form the server and reload the visualization\n\t */\n\treload() {\n\t\tthis.clearNetwork();\n\t\tthis.render();\n\t}\n\n\t/**\n\t * Stabilize the visuzliation\n\t */\n\tstabilize() {\n\t\t//this._network.stopSimulation();\n\t\tthis._consoleLog('Calling stopSimulation');\n\t}\n\n\t/**\n\t * Execute an arbitrary Cypher query and re-render the visualization\n\t * @param query\n\t */\n\trenderWithCypher(query) {\n\t\t// this._config.initial_cypher = query;\n\t\tthis.clearNetwork();\n\t\tthis._query = query;\n\t\tthis.render();\n\t}\n\n// configure exports based on environment (ie Node.js or browser)\n//if (typeof exports === 'object') {\n//    module.exports = NeoVis;\n//} else {\n//    define (function () {return NeoVis;})\n//}\n}\n\n"],"sourceRoot":""}