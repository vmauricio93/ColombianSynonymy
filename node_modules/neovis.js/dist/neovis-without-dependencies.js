!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.map"),require("core-js/modules/es.function.name"),require("core-js/modules/es.object.define-property"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.object.values"),require("core-js/modules/es.promise"),require("core-js/modules/es.string.iterator"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.timers"),require("regenerator-runtime/runtime")):"function"==typeof define&&define.amd?define(["core-js/modules/es.symbol","core-js/modules/es.symbol.description","core-js/modules/es.symbol.iterator","core-js/modules/es.array.for-each","core-js/modules/es.array.iterator","core-js/modules/es.array.map","core-js/modules/es.function.name","core-js/modules/es.object.define-property","core-js/modules/es.object.to-string","core-js/modules/es.object.values","core-js/modules/es.promise","core-js/modules/es.string.iterator","core-js/modules/web.dom-collections.for-each","core-js/modules/web.dom-collections.iterator","core-js/modules/web.timers","regenerator-runtime/runtime"],r):"object"==typeof exports?exports.NeoVis=r(require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.map"),require("core-js/modules/es.function.name"),require("core-js/modules/es.object.define-property"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.object.values"),require("core-js/modules/es.promise"),require("core-js/modules/es.string.iterator"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.timers"),require("regenerator-runtime/runtime")):e.NeoVis=r(e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0])}("undefined"!=typeof self?self:this,function(e,r,t,o,n,s,i,a,u,c,l,d,f,p,m,b){return function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}return t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=16)}([function(r,t){r.exports=e},function(e,t){e.exports=r},function(e,r){e.exports=t},function(e,r){e.exports=o},function(e,r){e.exports=n},function(e,r){e.exports=s},function(e,r){e.exports=i},function(e,r){e.exports=a},function(e,r){e.exports=u},function(e,r){e.exports=c},function(e,r){e.exports=l},function(e,r){e.exports=d},function(e,r){e.exports=f},function(e,r){e.exports=p},function(e,r){e.exports=m},function(e,r){e.exports=b},function(e,r,t){"use strict";t.r(r);t(0),t(1),t(2),t(3),t(4),t(5),t(6),t(7),t(8),t(9),t(10),t(11),t(12),t(13),t(14),t(15);var o={neo4j:{initialQuery:"MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"neo4j",encrypted:"ENCRYPTION_OFF",trust:"TRUST_ALL_CERTIFICATES"},visjs:{interaction:{hover:!0,hoverConnectedEdges:!0,selectConnectedEdges:!1,multiselect:"alwaysOn",zoomView:!1,experimental:{}},physics:{barnesHut:{damping:.1}},nodes:{mass:4,shape:"neo",labelHighlightBold:!1,widthConstraint:{maximum:40},heightConstraint:{maximum:40}},edges:{hoverWidth:0,selectionWidth:0,smooth:{type:"continuous",roundness:.15},font:{size:9,strokeWidth:0,align:"top"},color:{inherit:!1},arrows:{to:{enabled:!0,type:"arrow",scaleFactor:.5}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,r,t,o,n,s,i){try{var a=e[s](i),u=a.value}catch(e){return void t(e)}a.done?r(u):Promise.resolve(u).then(o,n)}function i(e){return function(){var r=this,t=arguments;return new Promise(function(o,n){var i=e.apply(r,t);function a(e){s(i,o,n,a,u,"next",e)}function u(e){s(i,o,n,a,u,"throw",e)}a(void 0)})}}function a(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}t.d(r,"default",function(){return c});var c=function(){function e(r,t,n,s,i){!function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_nodes",{}),u(this,"_edges",{}),u(this,"_data",{}),u(this,"_network",null),this.Neo4j=t,this._init(r,t,n,s,i),this._consoleLog(r),this._consoleLog(o)}var r,t,s,c;return r=e,(t=[{key:"_consoleLog",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";this._config.console_debug&&console[r](e)}},{key:"_init",value:function(e,r,t,n,s){this.Neo4j=r,this._config=e,this._encrypted=e.encrypted||o.neo4j.encrypted,this._trust=e.trust||o.neo4j.trust,this._driver=r.driver(t,r.auth.basic(n,s),{encrypted:this._encrypted,trust:this._trust}),this._query=e.initial_cypher||o.neo4j.initialQuery}},{key:"_addNode",value:function(e){this._nodes[e.id]=e}},{key:"_addEdge",value:function(e){this._edges[e.id]=e}},{key:"buildNodeVisObject",value:(c=i(regeneratorRuntime.mark(function e(r){var t,o,s,i,a,u,c,l,d,f,p,m,b,y,h,v=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t={},o=r.labels[0],s=this._config&&this._config.labels&&this._config.labels[o],i=s&&s.caption,a=s&&s.size,u=s&&s.sizeCypher,c=s&&s.community,t.id=r.identity.toInt(),!u){e.next=34;break}return l=this._driver.session(),e.next=12,l.run(u,{id:this.Neo4j.int(t.id)});case 12:for(d=e.sent,f=!0,p=!1,m=void 0,e.prev=16,b=d.records[Symbol.iterator]();!(f=(y=b.next()).done);f=!0)y.value.forEach(function(e){"number"==typeof e?t.value=e:v.Neo4j.isInt(e)&&(t.value=e.toNumber())});e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),p=!0,m=e.t0;case 24:e.prev=24,e.prev=25,f||null==b.return||b.return();case 27:if(e.prev=27,!p){e.next=30;break}throw m;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=35;break;case 34:"number"==typeof a?t.value=a:(h=r.properties[a])&&"number"==typeof h?t.value=h:h&&"object"===n(h)&&this.Neo4j.isInt(h)&&h.inSafeRange()?t.value=h.toNumber():t.value=1;case 35:if(t.label="function"==typeof i?i(r):r.properties[i]||i||o||"",c)try{"function"==typeof c?t.group=c(r):r.properties[c]?t.group=r.properties[c].toNumber()||o||0:t.group=0}catch(e){t.group=0}else t.group=o;return t.title=o,e.abrupt("return",t);case 39:case"end":return e.stop()}},e,this,[[16,20,24,32],[25,,27,31]])})),function(e){return c.apply(this,arguments)})},{key:"buildEdgeVisObject",value:function(e){var r=this._config&&this._config.relationships&&this._config.relationships[e.type],t=r&&r.thickness,o=r&&r.caption,n={};if(n.id=e.identity.toInt(),n.from=e.start.toInt(),n.to=e.end.toInt(),n.value=t&&"string"==typeof t?e.properties[t]:t&&"number"==typeof t?t:1,"boolean"==typeof o)n.label=o?e.type:"";else if(o&&"string"==typeof o)n.label=e.properties[o]||"";else if(o&&o instanceof Array){var s="",i=!0,a=!1,u=void 0;try{for(var c,l=o[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var d=c.value;s+=e.properties[d]||"",s+="\n"}}catch(e){a=!0,u=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw u}}n.label=s}else n.label=e.type;return n}},{key:"render",value:function(e){var r,t=this,o=this._driver.session(),n=[];o.run(this._query,{limit:30}).subscribe({onNext:function(e){0,t._consoleLog("CLASS NAME"),t._consoleLog(e.constructor.name),t._consoleLog(e);var r=Object.values(e.toObject()).map(function(){var e=i(regeneratorRuntime.mark(function e(r){var o,n,s,i,a,u,c,l,d,f,p,m,b,y,h,v,j,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t._consoleLog("Constructor:"),t._consoleLog(r.constructor.name),!(r instanceof t.Neo4j.types.Node)){e.next=9;break}return e.next=5,t.buildNodeVisObject(r);case 5:o=e.sent;try{t._addNode(o)}catch(e){t._consoleLog(e,"error")}e.next=97;break;case 9:if(!(r instanceof t.Neo4j.types.Relationship)){e.next=14;break}n=t.buildEdgeVisObject(r),t._addEdge(n),e.next=97;break;case 14:if(!(r instanceof t.Neo4j.types.Path)){e.next=62;break}return t._consoleLog("PATH"),t._consoleLog(r),e.next=19,t.buildNodeVisObject(r.start);case 19:return s=e.sent,e.next=22,t.buildNodeVisObject(r.end);case 22:i=e.sent,t._addNode(s),t._addNode(i),a=!0,u=!1,c=void 0,e.prev=28,l=r.segments[Symbol.iterator]();case 30:if(a=(d=l.next()).done){e.next=46;break}return f=d.value,e.t0=t,e.next=35,t.buildNodeVisObject(f.start);case 35:return e.t1=e.sent,e.t0._addNode.call(e.t0,e.t1),e.t2=t,e.next=40,t.buildNodeVisObject(f.end);case 40:e.t3=e.sent,e.t2._addNode.call(e.t2,e.t3),t._addEdge(t.buildEdgeVisObject(f.relationship));case 43:a=!0,e.next=30;break;case 46:e.next=52;break;case 48:e.prev=48,e.t4=e.catch(28),u=!0,c=e.t4;case 52:e.prev=52,e.prev=53,a||null==l.return||l.return();case 55:if(e.prev=55,!u){e.next=58;break}throw c;case 58:return e.finish(55);case 59:return e.finish(52);case 60:e.next=97;break;case 62:if(!(r instanceof Array)){e.next=97;break}p=!0,m=!1,b=void 0,e.prev=66,y=r[Symbol.iterator]();case 68:if(p=(h=y.next()).done){e.next=83;break}if(v=h.value,t._consoleLog("Array element constructor:"),t._consoleLog(v.constructor.name),!(v instanceof t.Neo4j.types.Node)){e.next=79;break}return e.next=75,t.buildNodeVisObject(v);case 75:j=e.sent,t._addNode(j),e.next=80;break;case 79:v instanceof t.Neo4j.types.Relationship&&(g=t.buildEdgeVisObject(v),t._addEdge(g));case 80:p=!0,e.next=68;break;case 83:e.next=89;break;case 85:e.prev=85,e.t5=e.catch(66),m=!0,b=e.t5;case 89:e.prev=89,e.prev=90,p||null==y.return||y.return();case 92:if(e.prev=92,!m){e.next=95;break}throw b;case 95:return e.finish(92);case 96:return e.finish(89);case 97:case"end":return e.stop()}},e,null,[[28,48,52,60],[53,,55,59],[66,85,89,97],[90,,92,96]])}));return function(r){return e.apply(this,arguments)}}());n.push(Promise.all(r))},onCompleted:(r=i(regeneratorRuntime.mark(function r(){return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Promise.all(n);case 2:o.close(),{nodes:{shape:"text",font:{size:26,strokeWidth:7},scaling:{label:{enabled:!0}}},edges:{arrows:{to:{enabled:t._config.arrows||!1}},length:200},layout:{improvedLayout:!1,hierarchical:{enabled:t._config.hierarchical||!1,sortMethod:t._config.hierarchical_sort_method||"hubsize"}},physics:{adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}}},t._data={nodes:t._nodes,edges:t._edges},t._consoleLog(t._data.nodes),t._consoleLog(t._data.edges),t._consoleLog("completed"),e.send(t._data),setTimeout(function(){},1e4);case 10:case"end":return r.stop()}},r)})),function(){return r.apply(this,arguments)}),onError:function(e){t._consoleLog(e)}})}},{key:"clearNetwork",value:function(){this._nodes={},this._edges={}}},{key:"registerOnEvent",value:function(e,r){}},{key:"reinit",value:function(e){this._init(e),this.render()}},{key:"reload",value:function(){this.clearNetwork(),this.render()}},{key:"stabilize",value:function(){this._consoleLog("Calling stopSimulation")}},{key:"renderWithCypher",value:function(e){this.clearNetwork(),this._query=e,this.render()}}])&&a(r.prototype,t),s&&a(r,s),e}()}])});
//# sourceMappingURL=neovis-without-dependencies.js.map