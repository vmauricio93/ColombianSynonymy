!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.map"),require("core-js/modules/es.function.name"),require("core-js/modules/es.object.define-property"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.object.values"),require("core-js/modules/es.promise"),require("core-js/modules/es.string.iterator"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.timers"),require("regenerator-runtime/runtime")):"function"==typeof define&&define.amd?define(["core-js/modules/es.symbol","core-js/modules/es.symbol.description","core-js/modules/es.symbol.iterator","core-js/modules/es.array.for-each","core-js/modules/es.array.iterator","core-js/modules/es.array.map","core-js/modules/es.function.name","core-js/modules/es.object.define-property","core-js/modules/es.object.to-string","core-js/modules/es.object.values","core-js/modules/es.promise","core-js/modules/es.string.iterator","core-js/modules/web.dom-collections.for-each","core-js/modules/web.dom-collections.iterator","core-js/modules/web.timers","regenerator-runtime/runtime"],t):"object"==typeof exports?exports.NeoVis=t(require("core-js/modules/es.symbol"),require("core-js/modules/es.symbol.description"),require("core-js/modules/es.symbol.iterator"),require("core-js/modules/es.array.for-each"),require("core-js/modules/es.array.iterator"),require("core-js/modules/es.array.map"),require("core-js/modules/es.function.name"),require("core-js/modules/es.object.define-property"),require("core-js/modules/es.object.to-string"),require("core-js/modules/es.object.values"),require("core-js/modules/es.promise"),require("core-js/modules/es.string.iterator"),require("core-js/modules/web.dom-collections.for-each"),require("core-js/modules/web.dom-collections.iterator"),require("core-js/modules/web.timers"),require("regenerator-runtime/runtime")):e.NeoVis=t(e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0],e[void 0])}("undefined"!=typeof self?self:this,function(e,t,r,o,n,s,i,c,u,a,l,d,f,p,m,b){return function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=16)}([function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r},function(e,t){e.exports=o},function(e,t){e.exports=n},function(e,t){e.exports=s},function(e,t){e.exports=i},function(e,t){e.exports=c},function(e,t){e.exports=u},function(e,t){e.exports=a},function(e,t){e.exports=l},function(e,t){e.exports=d},function(e,t){e.exports=f},function(e,t){e.exports=p},function(e,t){e.exports=m},function(e,t){e.exports=b},function(e,t,r){"use strict";r.r(t);r(0),r(1),r(2),r(3),r(4),r(5),r(6),r(7),r(8),r(9),r(10),r(11),r(12),r(13),r(14),r(15);var o={neo4j:{initialQuery:"MATCH (n) WHERE exists(n.pagerank)\n                        WITH (n), RAND() AS random\n                        ORDER BY random LIMIT 3000\n                        OPTIONAL MATCH (n)-[r]-(m)\n                        //WITH n,r,m WHERE exists(n.pagerank) AND exists(m.pagerank) AND exists(m.community)\n                        RETURN n, r, m;",neo4jUri:"bolt://localhost:7687",neo4jUser:"neo4j",neo4jPassword:"neo4j",encrypted:"ENCRYPTION_OFF",trust:"TRUST_ALL_CERTIFICATES"},visjs:{interaction:{hover:!0,hoverConnectedEdges:!0,selectConnectedEdges:!1,multiselect:"alwaysOn",zoomView:!1,experimental:{}},physics:{barnesHut:{damping:.1}},nodes:{mass:4,shape:"neo",labelHighlightBold:!1,widthConstraint:{maximum:40},heightConstraint:{maximum:40}},edges:{hoverWidth:0,selectionWidth:0,smooth:{type:"continuous",roundness:.15},font:{size:9,strokeWidth:0,align:"top"},color:{inherit:!1},arrows:{to:{enabled:!0,type:"arrow",scaleFactor:.5}}}}};function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t,r,o,n,s,i){try{var c=e[s](i),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(o,n)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(o,n){var i=e.apply(t,r);function c(e){s(i,o,n,c,u,"next",e)}function u(e){s(i,o,n,c,u,"throw",e)}c(void 0)})}}function c(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"default",function(){return a});var a=function(){function e(t,r,n,s,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),u(this,"_nodes",{}),u(this,"_edges",{}),u(this,"_data",{}),u(this,"_network",null),this.Neo4j=r,this._init(t,r,n,s,i),this._consoleLog(t),this._consoleLog(o)}var t,r,s,a;return t=e,(r=[{key:"_consoleLog",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"log";this._config.console_debug&&console[t](e)}},{key:"_init",value:function(e,t,r,n,s){this.Neo4j=t,this._config=e,this._encrypted=e.encrypted||o.neo4j.encrypted,this._trust=e.trust||o.neo4j.trust,this._driver=t.driver(r,t.auth.basic(n,s),{encrypted:this._encrypted,trust:this._trust}),this._query=e.initial_cypher||o.neo4j.initialQuery}},{key:"_addNode",value:function(e){this._nodes[e.id]=e}},{key:"_addEdge",value:function(e){this._edges[e.id]=e}},{key:"buildNodeVisObject",value:(a=i(regeneratorRuntime.mark(function e(t){var r,o,s,i,c,u,a,l,d,f,p,m,b,y,h,v=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r={},o=t.labels[0],s=this._config&&this._config.labels&&this._config.labels[o],i=s&&s.caption,c=s&&s.size,u=s&&s.sizeCypher,a=s&&s.community,r.id=t.identity.toInt(),!u){e.next=34;break}return l=this._driver.session(),e.next=12,l.run(u,{id:this.Neo4j.int(r.id)});case 12:for(d=e.sent,f=!0,p=!1,m=void 0,e.prev=16,b=d.records[Symbol.iterator]();!(f=(y=b.next()).done);f=!0)y.value.forEach(function(e){"number"==typeof e?r.value=e:v.Neo4j.isInt(e)&&(r.value=e.toNumber())});e.next=24;break;case 20:e.prev=20,e.t0=e.catch(16),p=!0,m=e.t0;case 24:e.prev=24,e.prev=25,f||null==b.return||b.return();case 27:if(e.prev=27,!p){e.next=30;break}throw m;case 30:return e.finish(27);case 31:return e.finish(24);case 32:e.next=35;break;case 34:"number"==typeof c?r.value=c:(h=t.properties[c])&&"number"==typeof h?r.value=h:h&&"object"===n(h)&&this.Neo4j.isInt(h)&&h.inSafeRange()?r.value=h.toNumber():r.value=1;case 35:if(r.label="function"==typeof i?i(t):t.properties[i]||i||o||"",a)try{"function"==typeof a?r.group=a(t):t.properties[a]?r.group=t.properties[a].toNumber()||o||0:r.group=0}catch(e){r.group=0}else r.group=o;return r.title=o,e.abrupt("return",r);case 39:case"end":return e.stop()}},e,this,[[16,20,24,32],[25,,27,31]])})),function(e){return a.apply(this,arguments)})},{key:"buildEdgeVisObject",value:function(e){var t=this._config&&this._config.relationships&&this._config.relationships[e.type],r=t&&t.thickness,o=t&&t.caption,n={};return n.id=e.identity.toInt(),n.from=e.start.toInt(),n.to=e.end.toInt(),n.value=r&&"string"==typeof r?e.properties[r]:r&&"number"==typeof r?r:1,n.label="boolean"==typeof o?o?e.type:"":o&&"string"==typeof o?e.properties[o]||"":e.type,n}},{key:"render",value:function(e){var t,r=this,o=this._driver.session(),n=[];o.run(this._query,{limit:30}).subscribe({onNext:function(e){0,r._consoleLog("CLASS NAME"),r._consoleLog(e.constructor.name),r._consoleLog(e);var t=Object.values(e.toObject()).map(function(){var e=i(regeneratorRuntime.mark(function e(t){var o,n,s,i,c,u,a,l,d,f,p,m,b,y,h,v,j,g;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r._consoleLog("Constructor:"),r._consoleLog(t.constructor.name),!(t instanceof r.Neo4j.types.Node)){e.next=9;break}return e.next=5,r.buildNodeVisObject(t);case 5:o=e.sent;try{r._addNode(o)}catch(e){r._consoleLog(e,"error")}e.next=97;break;case 9:if(!(t instanceof r.Neo4j.types.Relationship)){e.next=14;break}n=r.buildEdgeVisObject(t),r._addEdge(n),e.next=97;break;case 14:if(!(t instanceof r.Neo4j.types.Path)){e.next=62;break}return r._consoleLog("PATH"),r._consoleLog(t),e.next=19,r.buildNodeVisObject(t.start);case 19:return s=e.sent,e.next=22,r.buildNodeVisObject(t.end);case 22:i=e.sent,r._addNode(s),r._addNode(i),c=!0,u=!1,a=void 0,e.prev=28,l=t.segments[Symbol.iterator]();case 30:if(c=(d=l.next()).done){e.next=46;break}return f=d.value,e.t0=r,e.next=35,r.buildNodeVisObject(f.start);case 35:return e.t1=e.sent,e.t0._addNode.call(e.t0,e.t1),e.t2=r,e.next=40,r.buildNodeVisObject(f.end);case 40:e.t3=e.sent,e.t2._addNode.call(e.t2,e.t3),r._addEdge(r.buildEdgeVisObject(f.relationship));case 43:c=!0,e.next=30;break;case 46:e.next=52;break;case 48:e.prev=48,e.t4=e.catch(28),u=!0,a=e.t4;case 52:e.prev=52,e.prev=53,c||null==l.return||l.return();case 55:if(e.prev=55,!u){e.next=58;break}throw a;case 58:return e.finish(55);case 59:return e.finish(52);case 60:e.next=97;break;case 62:if(!(t instanceof Array)){e.next=97;break}p=!0,m=!1,b=void 0,e.prev=66,y=t[Symbol.iterator]();case 68:if(p=(h=y.next()).done){e.next=83;break}if(v=h.value,r._consoleLog("Array element constructor:"),r._consoleLog(v.constructor.name),!(v instanceof r.Neo4j.types.Node)){e.next=79;break}return e.next=75,r.buildNodeVisObject(v);case 75:j=e.sent,r._addNode(j),e.next=80;break;case 79:v instanceof r.Neo4j.types.Relationship&&(g=r.buildEdgeVisObject(v),r._addEdge(g));case 80:p=!0,e.next=68;break;case 83:e.next=89;break;case 85:e.prev=85,e.t5=e.catch(66),m=!0,b=e.t5;case 89:e.prev=89,e.prev=90,p||null==y.return||y.return();case 92:if(e.prev=92,!m){e.next=95;break}throw b;case 95:return e.finish(92);case 96:return e.finish(89);case 97:case"end":return e.stop()}},e,null,[[28,48,52,60],[53,,55,59],[66,85,89,97],[90,,92,96]])}));return function(t){return e.apply(this,arguments)}}());n.push(Promise.all(t))},onCompleted:(t=i(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(n);case 2:o.close(),{nodes:{shape:"text",font:{size:26,strokeWidth:7},scaling:{label:{enabled:!0}}},edges:{arrows:{to:{enabled:r._config.arrows||!1}},length:200},layout:{improvedLayout:!1,hierarchical:{enabled:r._config.hierarchical||!1,sortMethod:r._config.hierarchical_sort_method||"hubsize"}},physics:{adaptiveTimestep:!0,stabilization:{iterations:200,fit:!0}}},r._data={nodes:r._nodes,edges:r._edges},r._consoleLog(r._data.nodes),r._consoleLog(r._data.edges),r._consoleLog("completed"),e.send(r._data),setTimeout(function(){},1e4);case 10:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)}),onError:function(e){r._consoleLog(e)}})}},{key:"clearNetwork",value:function(){this._nodes={},this._edges={}}},{key:"registerOnEvent",value:function(e,t){}},{key:"reinit",value:function(e){this._init(e),this.render()}},{key:"reload",value:function(){this.clearNetwork(),this.render()}},{key:"stabilize",value:function(){this._consoleLog("Calling stopSimulation")}},{key:"renderWithCypher",value:function(e){this.clearNetwork(),this._query=e,this.render()}}])&&c(t.prototype,r),s&&c(t,s),e}()}])});
//# sourceMappingURL=neovis-without-dependencies.js.map